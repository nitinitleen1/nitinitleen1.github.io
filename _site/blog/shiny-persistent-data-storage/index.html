<!DOCTYPE html>
<html lang="en">
  <!-- MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  
  <title>Persistent data storage in Shiny apps</title>
  

  <meta name="author" content="Nitin Singh" />
  
  
  <meta name="description" content="This article is also published on RStudio’s Shiny Articles Shiny apps often need to save data, either to load it back into a different session or to simply log some information. However, common methods of storing data from R may not work well with Shiny. Functions like write.csv() and saveRDS()...">
  
  
  <meta name="keywords" content="rstats,r,r shiny,shiny apps,r shiny apps,shiny developer,r shiny developer,shiny consultant,web application development with r using shiny">

  <link rel="alternate" type="application/rss+xml" title="Nitin Singh - A computer science student persuing B.TECH from IIITVADODARA and a programming enthusiast." href="/feed.xml" />

  
    
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
    
      
  
  
    
      <link rel="stylesheet" href="/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/css/main.css" />
    
    
  
  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

    
  
  

  
  
  <!-- Facebook OpenGraph tags -->
  
  <meta property="og:title" content="Persistent data storage in Shiny apps" />
  
  
  <meta property="og:type" content="website" />
  
  
  <meta property="og:url" content="http://localhost:4000/blog/shiny-persistent-data-storage/" />
  <link rel="canonical" href="http://localhost:4000/blog/shiny-persistent-data-storage/" />
  
  
  
  <meta property="og:image" content="http://localhost:4000/img/deanimg.jpeg" />
  

  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@nitinitleen1" />
  <meta name="twitter:creator" content="@nitinitleen1" />
  <meta name="twitter:title" content="Persistent data storage in Shiny apps" />
  <meta name="twitter:description" content="This article is also published on RStudio’s Shiny Articles Shiny apps often need to save data, either to load it back into a different session or to simply log some information. However, common methods of storing data from R may not work well with Shiny. Functions like write.csv() and saveRDS()..." />
  
  <meta name="twitter:image" content="http://localhost:4000/img/deanimg.jpeg" />
    

</head>


  <body>
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom ">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost:4000">Nitin Singh</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            
            





<a href="/">Blog</a>

          </li>
        
        
        
          <li>
            
            





<a href="/shiny">Shiny</a>

          </li>
        
        
        
          <li>
            
            





<a href="/projects">Projects</a>

          </li>
        
        
        
          <li>
            
            





<a href="/aboutme">About Me / Contact</a>

          </li>
        
        
		
		
		<li>
		  <a href="/search" class="nav-search-link" title="Search">
		    <span class="fa fa-search nav-search-icon"></span>
			<span class="nav-search-text">Search</span>
		  </a>
		</li>
		
      </ul>
    </div>
	
	
	<div class="avatar-container">
	  <div class="avatar-img-border">
	    <a href="http://localhost:4000 ">
	      <img class="avatar-img" src="/img/deanimg.jpeg" />
		</a>
	  </div>
	</div>
	
	
  </div>
</nav>  


    <!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>Persistent data storage in Shiny apps</h1>
		  
		  
		  
		  <span class="post-meta">Posted on July 1, 2015</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
      	<blockquote>
  <p>This article is also published on <a href="http://shiny.rstudio.com/articles/persistent-data-storage.html">RStudio’s Shiny Articles</a></p>
</blockquote>

<p>Shiny apps often need to save data, either to load it back into a different session or to simply log some information. However, common methods of storing data from R may not work well with Shiny. Functions like <code class="highlighter-rouge">write.csv()</code> and <code class="highlighter-rouge">saveRDS()</code> save data locally, but consider how <a href="http://www.shinyapps.io/">shinyapps.io</a> works.</p>

<p>Shinyapps.io is a popular server for hosting Shiny apps. It is designed to distribute your Shiny app across different servers, which means that if a file is saved during one session on some server, then loading the app again later will probably direct you to a different server where the previously saved file doesn’t exist.</p>

<p>On other occasions, you may use data that is too big to store locally with R in an efficient manner.</p>

<p>This guide will explain seven methods for storing persistent data remotely with a Shiny app. You will learn how to store:</p>

<ul>
  <li><strong>Arbitrary data</strong> can be stored as a <strong>file</strong> in some sort of a <strong>file system</strong> (<a href="#local">local file system</a>, <a href="#dropbox">Dropbox</a>, <a href="#s3">Amazon S3</a>)</li>
  <li><strong>Structured rectangular data</strong> can be stored as a <strong>table</strong> in a <strong>relational database or table-storage service</strong>  (<a href="#sqlite">SQLite</a>, <a href="#mysql">MySQL</a>, <a href="#gsheets">Google Sheets</a>)</li>
  <li><strong>Semi-structured data</strong> can be stored as a <strong>collection</strong> in a <strong>NoSQL database</strong> (<a href="#mongodb">MongoDB</a>)</li>
</ul>

<p>The article explains the theory behind each method, and augments the theory with working examples that will make it clear and easy for you to use these methods in your own apps.</p>

<p>As a complement to this article, you can see a <a href="http://daattali.com/shiny/persistent-data-storage/"><strong>live demo of a Shiny app</strong></a> <strong>that uses each of the seven storage methods to save and load data</strong> (<a href="https://github.com/daattali/shiny-server/tree/master/persistent-data-storage">source code on GitHub</a>). This article expands on Jeff Allen’s <a href="http://shiny.rstudio.com/articles/share-data.html">article regarding sharing data across sessions</a>.</p>

<h2 id="table-of-contents">Table of contents</h2>

<ul>
  <li><a href="#basic">Basic Shiny app without data storage</a></li>
  <li><a href="#local-vs-remote">Local vs remote storage</a></li>
  <li><a href="#persistent">Persistent data storage methods</a>
    <ul>
      <li><a href="#file">Store arbitrary data in a file</a>
        <ul>
          <li><a href="#local">Local file system (<strong>local</strong>)</a></li>
          <li><a href="#dropbox">Dropbox (<strong>remote</strong>)</a></li>
          <li><a href="#s3">Amazon S3 (<strong>remote</strong>)</a></li>
        </ul>
      </li>
      <li><a href="#table">Store structured data in a table</a>
        <ul>
          <li><a href="#sqlite">SQLite (<strong>local</strong>)</a></li>
          <li><a href="#mysql"> MySQL (<strong>local or remote</strong>)</a></li>
          <li><a href="#gsheets">Google Sheets (<strong>remote</strong>)</a></li>
        </ul>
      </li>
      <li><a href="#nosql">Store semi-structured data in a NoSQL database</a>
        <ul>
          <li><a href="#mongodb">MongoDB (<strong>local or remote</strong>)</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

<h1 id="basic">Basic Shiny app without data storage</h1>

<p>To demonstrate how to store data using each storage type, we’ll start with a simple form-submission Shiny app that</p>

<ol>
  <li>collects some information from the user</li>
  <li>stores their response, and</li>
  <li>shows all previous responses</li>
</ol>

<p>Initially the app will only save responses within its R session. We will learn later how to modify the app to use each different storage type.</p>

<p>Here is the code for the basic app that we will be using as our starting point—copy it into a file named <code class="highlighter-rouge">app.R</code>. (In case you didn’t know: Shiny apps don’t <em>have to</em> be broken up into separate <code class="highlighter-rouge">ui.R</code> and <code class="highlighter-rouge">server.R</code> files, they can be completely defined in one file <a href="http://shiny.rstudio.com/articles/app-formats.html">as this Shiny article explains</a>)</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">shiny</span><span class="p">)</span><span class="w">

</span><span class="c1"># Define the fields we want to save from the form
</span><span class="n">fields</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"name"</span><span class="p">,</span><span class="w"> </span><span class="s2">"used_shiny"</span><span class="p">,</span><span class="w"> </span><span class="s2">"r_num_years"</span><span class="p">)</span><span class="w">

</span><span class="c1"># Shiny app with 3 fields that the user can submit data for
</span><span class="n">shinyApp</span><span class="p">(</span><span class="w">
  </span><span class="n">ui</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fluidPage</span><span class="p">(</span><span class="w">
    </span><span class="n">DT</span><span class="o">::</span><span class="n">dataTableOutput</span><span class="p">(</span><span class="s2">"responses"</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">300</span><span class="p">),</span><span class="w"> </span><span class="n">tags</span><span class="o">$</span><span class="n">hr</span><span class="p">(),</span><span class="w">
    </span><span class="n">textInput</span><span class="p">(</span><span class="s2">"name"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Name"</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">),</span><span class="w">
    </span><span class="n">checkboxInput</span><span class="p">(</span><span class="s2">"used_shiny"</span><span class="p">,</span><span class="w"> </span><span class="s2">"I've built a Shiny app in R before"</span><span class="p">,</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
    </span><span class="n">sliderInput</span><span class="p">(</span><span class="s2">"r_num_years"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Number of years using R"</span><span class="p">,</span><span class="w">
                </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">ticks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">),</span><span class="w">
    </span><span class="n">actionButton</span><span class="p">(</span><span class="s2">"submit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Submit"</span><span class="p">)</span><span class="w">
  </span><span class="p">),</span><span class="w">
  </span><span class="n">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">output</span><span class="p">,</span><span class="w"> </span><span class="n">session</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    
    </span><span class="c1"># Whenever a field is filled, aggregate all form data
</span><span class="w">    </span><span class="n">formData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">reactive</span><span class="p">({</span><span class="w">
      </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sapply</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">input</span><span class="p">[[</span><span class="n">x</span><span class="p">]])</span><span class="w">
      </span><span class="n">data</span><span class="w">
    </span><span class="p">})</span><span class="w">
    
    </span><span class="c1"># When the Submit button is clicked, save the form data
</span><span class="w">    </span><span class="n">observeEvent</span><span class="p">(</span><span class="n">input</span><span class="o">$</span><span class="n">submit</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">saveData</span><span class="p">(</span><span class="n">formData</span><span class="p">())</span><span class="w">
    </span><span class="p">})</span><span class="w">
    
    </span><span class="c1"># Show the previous responses
</span><span class="w">    </span><span class="c1"># (update with current response when Submit is clicked)
</span><span class="w">    </span><span class="n">output</span><span class="o">$</span><span class="n">responses</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">DT</span><span class="o">::</span><span class="n">renderDataTable</span><span class="p">({</span><span class="w">
      </span><span class="n">input</span><span class="o">$</span><span class="n">submit</span><span class="w">
      </span><span class="n">loadData</span><span class="p">()</span><span class="w">
    </span><span class="p">})</span><span class="w">     
  </span><span class="p">}</span><span class="w">
</span><span class="p">)</span><span class="w">
</span></code></pre>
</div>

<p>The above code is taken from a <a href="http://deanattali.com/2015/06/14/mimicking-google-form-shiny">guide on how to mimic a Google form with Shiny</a>.</p>

<p>The above app is very simple—there is a table that shows all responses, three input fields, and a <strong>Submit</strong> button that will take the data in the input fields and save it. You might notice that there are two functions that are not defined but are used in the app: <code class="highlighter-rouge">saveData(data)</code> and <code class="highlighter-rouge">loadData()</code>. These two functions are the only code that affects how the data is stored/retrieved, and we will redefine them for each data storage type. In order to make the app work for now, here’s a trivial implementation of the save and load functions that simply stores responses in the current R session.</p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exists</span><span class="p">(</span><span class="s2">"responses"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">responses</span><span class="w"> </span><span class="o">&lt;&lt;-</span><span class="w"> </span><span class="n">rbind</span><span class="p">(</span><span class="n">responses</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">responses</span><span class="w"> </span><span class="o">&lt;&lt;-</span><span class="w"> </span><span class="n">data</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exists</span><span class="p">(</span><span class="s2">"responses"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">responses</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Before continuing further, make sure this basic app works for you and that you understand every line in it—it is not difficult, but take the two minutes to go through it. The code for this app is also available as a <a href="https://gist.github.com/daattali/c4db11d81f3c46a7c4a5">gist</a> and you can run it either by copying all the code to your RStudio IDE or by running <code class="highlighter-rouge">shiny::runGist("c4db11d81f3c46a7c4a5")</code>.</p>

<h1 id="local-vs-remote">Local vs remote storage</h1>

<p>Before diving into the different storage methods, one important distinction to understand is <em>local storage</em> vs <em>remote storage</em>.</p>

<p>Local storage means saving a file on the same machine that is running the Shiny application. Functions like <code class="highlighter-rouge">write.csv()</code>, <code class="highlighter-rouge">write.table()</code>, and <code class="highlighter-rouge">saveRDS()</code> implement local storage because they will save a file on the machine running the app. Local storage is generally faster than remote storage, but it should only be used if you always have access to the machine that saves the files.</p>

<p>Remote storage means saving data on another server, usually a reliable hosted server such as Dropbox, Amazon, or a hosted database.  One big advantage of using hosted remote storage solutions is that they are much more reliable and can generally be more trusted to keep your data alive and not corrupted.</p>

<p>When going through the different storage type options below, keep in mind that if your Shiny app is hosted on shinyapps.io, you will have to use a remote storage method for the time being. RStudio plans to implement persistent storage on shinyapps.io soon. In the meantime, using local storage is only an option if you’re hosting your own <a href="http://www.rstudio.com/products/shiny/shiny-server/">Shiny Server</a>. If you want to host your own server, <a href="http://deanattali.com/2015/05/09/setup-rstudio-shiny-server-digital-ocean">here is a guide</a> that describes in detail how to set up your own Shiny Server.</p>

<h1 id="persistent">Persistent data storage methods</h1>

<p>Using the above Shiny app, we can store and retrieve responses in many different ways. Here we will go through seven ways to achieve data persistence that can be easily integrated into Shiny apps. For each method, we will explain the method and provide a version of <code class="highlighter-rouge">saveData()</code> and <code class="highlighter-rouge">loadData()</code> that implements the method. To use a method as the storage type in the example app, run the app with the appropriate version of <code class="highlighter-rouge">saveData()</code> and <code class="highlighter-rouge">loadData()</code>.</p>

<p>As a reminder, you can see all the seven different storage types being used, along with the exact code used, <a href="http://daattali.com/shiny/persistent-data-storage/">in this live Shiny app</a>.</p>

<p>Here is a summary of the different storage types we will learn to use.</p>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Data type</th>
      <th style="text-align: center">Local storage</th>
      <th style="text-align: center">Remote storage</th>
      <th>R package</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Local file system</td>
      <td>Arbitrary data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center"> </td>
      <td>-</td>
    </tr>
    <tr>
      <td>Dropbox</td>
      <td>Arbitrary data</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">YES</td>
      <td>rdrop2</td>
    </tr>
    <tr>
      <td>Amazon S3</td>
      <td>Arbitrary data</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">YES</td>
      <td>RAmazonS3</td>
    </tr>
    <tr>
      <td>SQLite</td>
      <td>Structured data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center"> </td>
      <td>RSQLite</td>
    </tr>
    <tr>
      <td>MySQL</td>
      <td>Structured data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center">YES</td>
      <td>RMySQL</td>
    </tr>
    <tr>
      <td>Google Sheets</td>
      <td>Structured data</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">YES</td>
      <td>googlesheets</td>
    </tr>
    <tr>
      <td>MongoDB</td>
      <td>Semi-structured data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center">YES</td>
      <td>mongolite</td>
    </tr>
  </tbody>
</table>

<h2 id="file">Store arbitrary data in a file</h2>

<p>This is the most flexible option to store data since files allow you to store any type of data, whether it is a single value, a big <em>data.frame</em>, or any arbitrary data. There are two common cases for using files to store data:</p>

<ol>
  <li>you have one file that gets repeatedly overwritten and used by all sessions (like the example in <a href="http://shiny.rstudio.com/articles/share-data.html">Jeff Allen’s article</a>), or</li>
  <li>you save a new file every time there is new data</li>
</ol>

<p>In our case we’ll use the latter because we want to save each response as its own file. We can use the former option, but then we would introduce the potential for <a href="https://en.wikipedia.org/wiki/Race_condition#File_systems">race conditions</a> which will overcomplicate the app. A race condition happens when two users submit a response at the exact same time, but since the file cannot deal with multiple edits simultaneously, one user will overwrite the response of the other user.</p>

<p>When saving multiple files, it is important to save each file with a different file name to avoid overwriting files. There are many ways to do this. For example, you can simply use the current timestamp and an <em>md5 hash</em> of the data being saved as the file name to ensure that no two form submissions have the same file name.</p>

<p>Arbitrary data can be stored in a file either on the local file system or on remote services such as Dropbox or Amazon S3.</p>

<h3 id="local">1. Local file system (<strong>local</strong>)</h3>

<p>The most trivial way to save data from Shiny is to simply save each response as its own file on the current server. To load the data, we simply load all the files in the output directory. In our specific example, we also want to concatenate all of the data files together into one <em>data.frame</em>.</p>

<p><strong>Setup:</strong> The only setup required is to create an output directory (responses in this case) and to ensure that the Shiny app has file permissions to read/write in that directory.</p>

<p><strong>Code:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">outputDir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"responses"</span><span class="w">

</span><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Create a unique file name
</span><span class="w">  </span><span class="n">fileName</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="s2">"%s_%s.csv"</span><span class="p">,</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">Sys.time</span><span class="p">()),</span><span class="w"> </span><span class="n">digest</span><span class="o">::</span><span class="n">digest</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="w">
  </span><span class="c1"># Write the file to the local system
</span><span class="w">  </span><span class="n">write.csv</span><span class="p">(</span><span class="w">
    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w">
    </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="n">outputDir</span><span class="p">,</span><span class="w"> </span><span class="n">fileName</span><span class="p">),</span><span class="w"> 
    </span><span class="n">row.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">quote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Read all the files into a list
</span><span class="w">  </span><span class="n">files</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">list.files</span><span class="p">(</span><span class="n">outputDir</span><span class="p">,</span><span class="w"> </span><span class="n">full.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lapply</span><span class="p">(</span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">read.csv</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> 
  </span><span class="c1"># Concatenate all data together into one data.frame
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">do.call</span><span class="p">(</span><span class="n">rbind</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w">
  </span><span class="n">data</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="dropbox">2. Dropbox (<strong>remote</strong>)</h3>

<p>If you want to store arbitrary files with a remote hosted solution instead of the local file system, you can store files on <a href="https://www.dropbox.com">Dropbox</a>. Dropbox is a file storing service which allows you to host any file, up to a certain maximum usage. The free account provides plenty of storage space and should be enough to store most data from Shiny apps.</p>

<p>This approach is similar to the previous approach that used the local file system. The only difference is that now that files are being saved to and loaded from Dropbox. You can use the <a href="https://github.com/karthik/rdrop2"><code class="highlighter-rouge">rdrop2</code></a> package to interact with Dropbox from R. Note that <code class="highlighter-rouge">rdrop2</code> can only move existing files onto Dropbox, so we still need to create a local file before storing it on Dropbox.</p>

<p><strong>Setup:</strong> You need to have a Dropbox account and create a folder to store the responses. You will also need to add authentication to <code class="highlighter-rouge">rdrop2</code> with any approach <a href="https://github.com/karthik/rdrop2#accessing-dropbox-on-shiny-and-remote-servers">suggested in the package README</a>. The authentication approach I chose was to authenticate manually once and to copy the resulting <code class="highlighter-rouge">.httr-oauth</code> file that gets created into the Shiny app’s folder.</p>

<p><strong>Code:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">rdrop2</span><span class="p">)</span><span class="w">
</span><span class="n">outputDir</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"responses"</span><span class="w">

</span><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Create a unique file name
</span><span class="w">  </span><span class="n">fileName</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="s2">"%s_%s.csv"</span><span class="p">,</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">Sys.time</span><span class="p">()),</span><span class="w"> </span><span class="n">digest</span><span class="o">::</span><span class="n">digest</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="w">
  </span><span class="c1"># Write the data to a temporary file locally
</span><span class="w">  </span><span class="n">filePath</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">file.path</span><span class="p">(</span><span class="n">tempdir</span><span class="p">(),</span><span class="w"> </span><span class="n">fileName</span><span class="p">)</span><span class="w">
  </span><span class="n">write.csv</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="n">row.names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">quote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Upload the file to Dropbox
</span><span class="w">  </span><span class="n">drop_upload</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">outputDir</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Read all the files into a list
</span><span class="w">  </span><span class="n">filesInfo</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">drop_dir</span><span class="p">(</span><span class="n">outputDir</span><span class="p">)</span><span class="w">
  </span><span class="n">filePaths</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">filesInfo</span><span class="o">$</span><span class="n">path</span><span class="w">
  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lapply</span><span class="p">(</span><span class="n">filePaths</span><span class="p">,</span><span class="w"> </span><span class="n">drop_read_csv</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Concatenate all data together into one data.frame
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">do.call</span><span class="p">(</span><span class="n">rbind</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w">
  </span><span class="n">data</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="s3">3. Amazon S3 (<strong>remote</strong>)</h3>

<p>Another popular alternative to Dropbox for hosting files online is <a href="http://aws.amazon.com/s3/">Amazon S3</a>, or <em>S3</em> in short. Just like with Dropbox, you can host any type of file on S3, but instead of placing files inside directories, in S3 you place files inside of <em>buckets</em>. You can use the <a href="http://www.omegahat.org/RAmazonS3/"><code class="highlighter-rouge">RAmazonS3</code></a> package to interact with S3 from R. Note that the package is a few years old and is not under active development, so use it at your own risk.</p>

<p><strong>Setup:</strong> You need to have an <a href="http://aws.amazon.com/">Amazon Web Services</a> account and to create an S3 bucket to store the responses. As the package documentation explains, you will need to set the <code class="highlighter-rouge">AmazonS3</code> global option to enable authentication.</p>

<p><strong>NOTE:</strong> As of Nov 2016, it seems like this package is no longer maintained and it might be a good idea to use a different S3 package. If you know about a better S3 package, feel free to let me know and I’ll update this section.</p>

<p><strong>Code:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">RAmazonS3</span><span class="p">)</span><span class="w">

</span><span class="n">s</span><span class="m">3</span><span class="n">BucketName</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"my-unique-s3-bucket-name"</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">AmazonS3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'login'</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"secret"</span><span class="p">))</span><span class="w">

</span><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Create a unique file name
</span><span class="w">  </span><span class="n">fileName</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="s2">"%s_%s.csv"</span><span class="p">,</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">Sys.time</span><span class="p">()),</span><span class="w"> </span><span class="n">digest</span><span class="o">::</span><span class="n">digest</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="w">
  </span><span class="c1"># Upload the data to S3
</span><span class="w">  </span><span class="n">addFile</span><span class="p">(</span><span class="w">
    </span><span class="n">I</span><span class="p">(</span><span class="n">paste0</span><span class="p">(</span><span class="w">
      </span><span class="n">paste</span><span class="p">(</span><span class="nf">names</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="w"> </span><span class="n">collapse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">","</span><span class="p">),</span><span class="w"> 
      </span><span class="s2">"\n"</span><span class="p">,</span><span class="w">
      </span><span class="n">paste</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">collapse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">","</span><span class="p">)</span><span class="w">
    </span><span class="p">)),</span><span class="w">
    </span><span class="n">s</span><span class="m">3</span><span class="n">BucketName</span><span class="p">,</span><span class="w"> 
    </span><span class="n">fileName</span><span class="p">,</span><span class="w">
    </span><span class="n">virtual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Get a list of all files
</span><span class="w">  </span><span class="n">files</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">listBucket</span><span class="p">(</span><span class="n">s</span><span class="m">3</span><span class="n">BucketName</span><span class="p">)</span><span class="o">$</span><span class="n">Key</span><span class="w">
  </span><span class="n">files</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.character</span><span class="p">(</span><span class="n">files</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Read all files into a list
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lapply</span><span class="p">(</span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">raw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">getFile</span><span class="p">(</span><span class="n">s</span><span class="m">3</span><span class="n">BucketName</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">virtual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
      </span><span class="n">read.csv</span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">raw</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
  </span><span class="p">})</span><span class="w">
  </span><span class="c1"># Concatenate all data together into one data.frame
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">do.call</span><span class="p">(</span><span class="n">rbind</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w">
  </span><span class="n">data</span><span class="w">  
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h2 id="table">Store structured data in a table</h2>

<p>If the data you want to save is structured and rectangular, storing it in a table would be a good option. Loosely defined, structured data means that each observation has the same fixed fields, and rectangular data means that all observations contain the same number of fields and fit into a nice 2D matrix. A <em>data.frame</em> is a great example of such data, and thus data.frames are ideal candidates to be stored in tables such as relational databases.</p>

<p>Structured data must have some <em>schema</em> that defines what the data fields are. In a <em>data.frame</em>, the number and names of the columns can be thought of as the schema. In tables with a header row, the header row can be thought of as the schema.</p>

<p>Structured data can be stored in a table either in a relational database (such as SQLite or MySQL) or in any other table-hosting service such as Google Sheets. If you have experience with database interfaces in other languages, you should note that R does not currently have support for prepared statements, so any SQL statements have to be constructed manually. One advantage of using a relational database is that with most databases it is safe to have multiple users using the database concurrently without running into race conditions thanks to <a href="https://en.wikipedia.org/wiki/Database_transaction">transaction support</a>.</p>

<h3 id="sqlite">4. SQLite (<strong>local</strong>)</h3>

<p>SQLite is a very simple and light-weight relational database that is very easy to set up. SQLite is serverless, which means it stores the database locally on the same machine that is running the shiny app. You can use the <a href="https://github.com/rstats-db/RSQLite"><code class="highlighter-rouge">RSQLite</code></a> package to interact with SQLite from R. To connect to a SQLite database in R, the only information you need to provide is the location of the database file.</p>

<p>To store data in a SQLite database, we loop over all the values we want to add and use a <a href="http://www.w3schools.com/sql/sql_insert.asp">SQL INSERT</a> statement to add the data to the database. It is essential that the schema of the database matches exactly the names of the columns in the Shiny data, otherwise the SQL statement will fail. To load all previous data, we use a plain <a href="http://www.w3schools.com/sql/sql_select.asp">SQL SELECT *</a> statement to get all the data from the database table.</p>

<p><strong>Setup:</strong> First, you must have SQLite installed on your server. Installation is fairly easy; for example, on an Ubuntu machine you can install SQLite with <code class="highlighter-rouge">sudo apt-get install sqlite3 libsqlite3-dev</code>. If you use shinyapps.io, SQLite is already installed on the shinyapps.io server, which will be a handy feature in future versions of shinyapps.io, which will include persistent local storage.</p>

<p>You also need to create a database and a table that will store all the responses. When creating the table, you need to set up the schema of the table to match the columns of your data. For example, if you want to save data with columns “name” and “email” then you can create the SQL table with <code class="highlighter-rouge">CREATE TABLE responses(name TEXT, email TEXT);</code>. Make sure the shiny app has write permissions on the database file and its parent directory.</p>

<p><strong>Code:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">RSQLite</span><span class="p">)</span><span class="w">
</span><span class="n">sqlitePath</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"/path/to/sqlite/database"</span><span class="w">
</span><span class="n">table</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"responses"</span><span class="w">

</span><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Connect to the database
</span><span class="w">  </span><span class="n">db</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dbConnect</span><span class="p">(</span><span class="n">SQLite</span><span class="p">(),</span><span class="w"> </span><span class="n">sqlitePath</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Construct the update query by looping over the data fields
</span><span class="w">  </span><span class="n">query</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="w">
    </span><span class="s2">"INSERT INTO %s (%s) VALUES ('%s')"</span><span class="p">,</span><span class="w">
    </span><span class="n">table</span><span class="p">,</span><span class="w"> 
    </span><span class="n">paste</span><span class="p">(</span><span class="nf">names</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="w"> </span><span class="n">collapse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">", "</span><span class="p">),</span><span class="w">
    </span><span class="n">paste</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">collapse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"', '"</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">
  </span><span class="c1"># Submit the update query and disconnect
</span><span class="w">  </span><span class="n">dbGetQuery</span><span class="p">(</span><span class="n">db</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">)</span><span class="w">
  </span><span class="n">dbDisconnect</span><span class="p">(</span><span class="n">db</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Connect to the database
</span><span class="w">  </span><span class="n">db</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dbConnect</span><span class="p">(</span><span class="n">SQLite</span><span class="p">(),</span><span class="w"> </span><span class="n">sqlitePath</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Construct the fetching query
</span><span class="w">  </span><span class="n">query</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="s2">"SELECT * FROM %s"</span><span class="p">,</span><span class="w"> </span><span class="n">table</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Submit the fetch query and disconnect
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dbGetQuery</span><span class="p">(</span><span class="n">db</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">)</span><span class="w">
  </span><span class="n">dbDisconnect</span><span class="p">(</span><span class="n">db</span><span class="p">)</span><span class="w">
  </span><span class="n">data</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="mysql">5. MySQL (<strong>local or remote</strong>)</h3>

<p>MySQL is a very popular relational database that is similar to SQLite but is more powerful. MySQL databases can either be hosted locally (on the same machine as the Shiny app) or online using a hosting service.</p>

<p>This method is very similar to the previous SQLite method, with the main difference being where the database is hosted. You can use the <a href="https://github.com/rstats-db/RMySQL"><code class="highlighter-rouge">RMySQL</code></a> package to interact with MySQL from R. Since MySQL databases can be hosted on remote servers, the command to connect to the server involves more parameters, but the rest of the saving/loading code is identical to the SQLite approach. To connect to a MySQL database, you need to provide the following parameters: host, port, dbname, user, password.</p>

<p><strong>Setup:</strong> You need to create a MySQL database (either locally or using a web service that hosts MySQL databases) and a table that will store the responses. As with the setup for SQLite, you need to make sure the table schema is properly set up for your intended data.</p>

<p><strong>Code:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">RMySQL</span><span class="p">)</span><span class="w">

</span><span class="n">options</span><span class="p">(</span><span class="n">mysql</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
  </span><span class="s2">"host"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"port"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3306</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"myuser"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"mypassword"</span><span class="w">
</span><span class="p">))</span><span class="w">
</span><span class="n">databaseName</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"myshinydatabase"</span><span class="w">
</span><span class="n">table</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"responses"</span><span class="w">

</span><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Connect to the database
</span><span class="w">  </span><span class="n">db</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dbConnect</span><span class="p">(</span><span class="n">MySQL</span><span class="p">(),</span><span class="w"> </span><span class="n">dbname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">databaseName</span><span class="p">,</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">host</span><span class="p">,</span><span class="w"> 
      </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">user</span><span class="p">,</span><span class="w"> 
      </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">password</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Construct the update query by looping over the data fields
</span><span class="w">  </span><span class="n">query</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="w">
    </span><span class="s2">"INSERT INTO %s (%s) VALUES ('%s')"</span><span class="p">,</span><span class="w">
    </span><span class="n">table</span><span class="p">,</span><span class="w"> 
    </span><span class="n">paste</span><span class="p">(</span><span class="nf">names</span><span class="p">(</span><span class="n">data</span><span class="p">),</span><span class="w"> </span><span class="n">collapse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">", "</span><span class="p">),</span><span class="w">
    </span><span class="n">paste</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">collapse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"', '"</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">
  </span><span class="c1"># Submit the update query and disconnect
</span><span class="w">  </span><span class="n">dbGetQuery</span><span class="p">(</span><span class="n">db</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">)</span><span class="w">
  </span><span class="n">dbDisconnect</span><span class="p">(</span><span class="n">db</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Connect to the database
</span><span class="w">  </span><span class="n">db</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dbConnect</span><span class="p">(</span><span class="n">MySQL</span><span class="p">(),</span><span class="w"> </span><span class="n">dbname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">databaseName</span><span class="p">,</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">host</span><span class="p">,</span><span class="w"> 
      </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">user</span><span class="p">,</span><span class="w"> 
      </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mysql</span><span class="o">$</span><span class="n">password</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Construct the fetching query
</span><span class="w">  </span><span class="n">query</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="s2">"SELECT * FROM %s"</span><span class="p">,</span><span class="w"> </span><span class="n">table</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Submit the fetch query and disconnect
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dbGetQuery</span><span class="p">(</span><span class="n">db</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">)</span><span class="w">
  </span><span class="n">dbDisconnect</span><span class="p">(</span><span class="n">db</span><span class="p">)</span><span class="w">
  </span><span class="n">data</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="gsheets">6. Google Sheets (<strong>remote</strong>)</h3>

<p>If you don’t want to deal with the formality and rigidity of a database, another option for storing tabular data is in a Google Sheet. One nice advantage of Google Sheets is that they are easy to access from anywhere; but unlike with databases, with Google Sheets data can be overwritten with multiple concurrent users.</p>

<p>You can use the <a href="https://github.com/jennybc/googlesheets"><code class="highlighter-rouge">googlesheets</code></a> package to interact with Google Sheets from R. To connect to a specific sheet, you will need either the sheet’s title or key (preferably key, as it is unique). It is very easy to store or retrieve data from a Google Sheet, as the code below shows.</p>

<p><strong>Setup:</strong> All you need to do is create a Google Sheet and set the top row with the names of the fields. You can do that either via a web browser or by using the <code class="highlighter-rouge">googlesheets</code> package. You also need to have a Google account. The <code class="highlighter-rouge">googlesheets</code> package uses a similar approach to authentication as <code class="highlighter-rouge">rdrop2</code>, and thus you also need to authenticate in a similar fashion, such as by copying a valid <code class="highlighter-rouge">.httr-oauth</code> file to your Shiny directory.</p>

<p><strong>Code:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">googlesheets</span><span class="p">)</span><span class="w">

</span><span class="n">table</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"responses"</span><span class="w">

</span><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Grab the Google Sheet
</span><span class="w">  </span><span class="n">sheet</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">gs_title</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Add the data as a new row
</span><span class="w">  </span><span class="n">gs_add_row</span><span class="p">(</span><span class="n">sheet</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Grab the Google Sheet
</span><span class="w">  </span><span class="n">sheet</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">gs_title</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="w">
  </span><span class="c1"># Read the data
</span><span class="w">  </span><span class="n">gs_read_csv</span><span class="p">(</span><span class="n">sheet</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h2 id="nosql">Store semi-structured data in a NoSQL database</h2>

<p>If you have data that is not fully structured but is also not completely free-form, a good middle ground can be using a NoSQL database. NoSQL databases can also be referred to as schemaless databases because they do not use a formal schema. NoSQL databases still offer some of the benefits of a traditional relational database, but are more flexible because every entry can use different fields. If your Shiny app needs to store data that has several fields but there is no unifying schema for all of the data to use, then using a NoSQL database can be a good option.</p>

<p>There are many NoSQL databases available, but here we will only show how to use mongoDB.</p>

<h3 id="mongodb">7. MongoDB (<strong>local or remote</strong>)</h3>

<p>MongoDB is one of the most popular NoSQL databases, and just like MySQL it can be hosted either locally or remotely. There are many web services that offer mongoDB hosting, including <a href="https://mongolab.com/">MongoLab</a> which gives you free mongoDB databases. In mongoDB, entries (in our case, responses) are stored in a <em>collection</em> (the equivalent of an S3 bucket or a SQL table).</p>

<p>You can use the <a href="https://github.com/jeroenooms/mongolite"><code class="highlighter-rouge">mongolite</code></a> package to interact with mongoDB from R. As with the relational database methods, all we need to do in order to save/load data is connect to the database and submit the equivalent of an update or select query. To connect to the database you need to provide the following: db, host, username, password. When saving the data, <code class="highlighter-rouge">mongolite</code> requires the data to be in a data.frame format.</p>

<p><strong>Setup:</strong> All you need to do is create a mongoDB database—either locally or using a web service such as MongoLab. Since there is no schema, it is not mandatory to create a collection before populating it.</p>

<p><strong>Code:</strong></p>

<div class="language-r highlighter-rouge"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">mongolite</span><span class="p">)</span><span class="w">

</span><span class="n">options</span><span class="p">(</span><span class="n">mongodb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
  </span><span class="s2">"host"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"ds012345.mongolab.com:61631"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"username"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"myuser"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"mypassword"</span><span class="w">
</span><span class="p">))</span><span class="w">
</span><span class="n">databaseName</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"myshinydatabase"</span><span class="w">
</span><span class="n">collectionName</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">"responses"</span><span class="w">

</span><span class="n">saveData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Connect to the database
</span><span class="w">  </span><span class="n">db</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mongo</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collectionName</span><span class="p">,</span><span class="w">
              </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="w">
                </span><span class="s2">"mongodb://%s:%s@%s/%s"</span><span class="p">,</span><span class="w">
                </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mongodb</span><span class="o">$</span><span class="n">username</span><span class="p">,</span><span class="w">
                </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mongodb</span><span class="o">$</span><span class="n">password</span><span class="p">,</span><span class="w">
                </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mongodb</span><span class="o">$</span><span class="n">host</span><span class="p">,</span><span class="w">
                </span><span class="n">databaseName</span><span class="p">))</span><span class="w">
  </span><span class="c1"># Insert the data into the mongo collection as a data.frame
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.data.frame</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="w">
  </span><span class="n">db</span><span class="o">$</span><span class="n">insert</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">loadData</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1"># Connect to the database
</span><span class="w">  </span><span class="n">db</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mongo</span><span class="p">(</span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collectionName</span><span class="p">,</span><span class="w">
              </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sprintf</span><span class="p">(</span><span class="w">
                </span><span class="s2">"mongodb://%s:%s@%s/%s"</span><span class="p">,</span><span class="w">
                </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mongodb</span><span class="o">$</span><span class="n">username</span><span class="p">,</span><span class="w">
                </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mongodb</span><span class="o">$</span><span class="n">password</span><span class="p">,</span><span class="w">
                </span><span class="n">options</span><span class="p">()</span><span class="o">$</span><span class="n">mongodb</span><span class="o">$</span><span class="n">host</span><span class="p">,</span><span class="w">
                </span><span class="n">databaseName</span><span class="p">))</span><span class="w">
  </span><span class="c1"># Read all the entries
</span><span class="w">  </span><span class="n">data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">db</span><span class="o">$</span><span class="n">find</span><span class="p">()</span><span class="w">
  </span><span class="n">data</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h1 id="conclusion">Conclusion</h1>

<p>Persistent storage lets you do more with your Shiny apps. You can even use persistent storage to access and write to remote data sets that would otherwise be too big to manipulate in R.</p>

<p>The following table can serve as a reminder of the different storage types and when to use them. Remember that any method that uses local storage can only be used on Shiny Server, while any method that uses remote storage can be also used on shinyapps.io.</p>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Data type</th>
      <th style="text-align: center">Local storage</th>
      <th style="text-align: center">Remote storage</th>
      <th>R package</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Local file system</td>
      <td>Arbitrary data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center"> </td>
      <td>-</td>
    </tr>
    <tr>
      <td>Dropbox</td>
      <td>Arbitrary data</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">YES</td>
      <td>rdrop2</td>
    </tr>
    <tr>
      <td>Amazon S3</td>
      <td>Arbitrary data</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">YES</td>
      <td>RAmazonS3</td>
    </tr>
    <tr>
      <td>SQLite</td>
      <td>Structured data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center"> </td>
      <td>RSQLite</td>
    </tr>
    <tr>
      <td>MySQL</td>
      <td>Structured data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center">YES</td>
      <td>RMySQL</td>
    </tr>
    <tr>
      <td>Google Sheets</td>
      <td>Structured data</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">YES</td>
      <td>googlesheets</td>
    </tr>
    <tr>
      <td>MongoDB</td>
      <td>Semi-structured data</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: center">YES</td>
      <td>mongolite</td>
    </tr>
  </tbody>
</table>

      </article>
      
      
        <div class="blog-tags">
          Tags: professional, rstats, r, r-bloggers, shiny, tutorial, popular
        </div>
      

      
  <div class="share-section">
    <h1 class="share-title">Liked what you read?</h1>
    
    
      <div class="share-buttons">
        
        
        
        
    
        
        
        
        
        <a href="http://localhost:4000/contact" data-ga-event=1 data-ga-category="share" data-ga-action="message" data-ga-label="/blog/shiny-persistent-data-storage/">
          Let me know
        </a>
        <!--
        <a href="https://www.facebook.com/dialog/feed?app_id=536330676521989&link=http://localhost:4000/blog/shiny-persistent-data-storage/&name=Persistent data storage in Shiny apps&caption=nitinitleen1.github.io&redirect_uri=http://localhost:4000/blog/shiny-persistent-data-storage/?message=Thanks for sharing!" data-ga-event=1 data-ga-category="share" data-ga-action="facebook" data-ga-label="/blog/shiny-persistent-data-storage/">
          Share on Facebook
        </a>
        -->
        <a href="https://www.paypal.me/daattali/10" data-ga-event=1 data-ga-category="share" data-ga-action="donate" data-ga-label="/blog/shiny-persistent-data-storage/">
          Support me
        </a>
        <a href="https://twitter.com/intent/tweet?url=http://localhost:4000/blog/shiny-persistent-data-storage/&via=daattali&hashtags=rstats&text=Persistent data storage in Shiny apps" data-ga-event=1 data-ga-category="share" data-ga-action="twitter" data-ga-label="/blog/shiny-persistent-data-storage/">
          Tweet it
        </a>
      </div>
    
    
    
      <!-- MailChimp Signup Form -->
      <div id="mailchimp-subscribe-section-2">
        <div id="mc_embed_signup-2">
          <form action="//deanattali.us14.list-manage.com/subscribe/post?u=a579a88c8f09f9b8502b9d0c3&amp;id=c180f5773c" method="post" id="mc-embedded-subscribe-form-2" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll-2">
      	      <label for="mce-EMAIL-2">Sign up to my Shiny newsletter</label>
              <div class="container">
                <div class="row">
                  <div class="col-xs-8">
                    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL-2" placeholder="Email" required="">
                  </div>
                  <div class="col-xs-4">
                    <input type="text" value="" name="FNAME" class="text" id="mce-FNAME-2" placeholder="Name" required="">
                  </div>
                </div>
              </div>
              <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a579a88c8f09f9b8502b9d0c3_c180f5773c" tabindex="-1" value=""></div>
              <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe-2" class="button">
            </div>
          </form>
        </div>
      </div>
     

  </div>


      
      

      <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="/2015/06/28/introducing-shinyjs-colourinput/" data-toggle="tooltip" data-placement="top" title="Shiny finally has a colour picker - use colourInput to select colours in Shiny apps">&larr; Previous Post</a>
          </li>
        
        
          <li class="next">
            <a href="/blog/building-shiny-apps-tutorial/" data-toggle="tooltip" data-placement="top" title="Building Shiny apps - an interactive tutorial">Next Post &rarr;</a>
          </li>
        
      </ul>

      
        <div class="disqus-comments">
          
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">
	    var disqus_shortname = 'nitin-site';
	    // ensure that pages with query string or anchor get the same discussion
            var url_parts = window.location.href.split("?");
            url_parts = url_parts[0].split("#");
            disqus_url = url_parts[0];
            disqus_url = disqus_url.replace(/(\/)*$/, "/"); // make sure the URL ends with one slash
            
            // Jekyll 3 caused so many bugs, I'm tired of fixing them one by one properly, so I'll just hack it...
            // https://github.com/jekyll/jekyll/issues/4483
            // The projects page now has a trailing slash, it didn't used to
            if (disqus_url.substr(-9) == "projects/") {
            	disqus_url = disqus_url.substr(0, disqus_url.length - 1);
            }

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();
	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>


        </div>
      
      
      <div id="scroll-box">
  <div id="scroll-box-close">&times;</div>
  <div id="scroll-box-hire">
    Need Shiny help?
    <a href="/shiny">Hire me!</a>
  </div>
  <div id="mailchimp-subscribe-section">
    <div id="mc_embed_signup">
      <form action="//deanattali.us14.list-manage.com/subscribe/post?u=a579a88c8f09f9b8502b9d0c3&amp;id=c180f5773c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
        <div id="mc_embed_signup_scroll">
  	      <label for="mce-EMAIL">Sign up to my Shiny newsletter</label>
          <div class="container">
            <div class="row">
              <div class="col-xs-8">
  	            <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email" required="">
              </div>
              <div class="col-xs-4">
                <input type="text" value="" name="FNAME" class="text" id="mce-FNAME" placeholder="Name" required="">
              </div>
            </div>
          </div>
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a579a88c8f09f9b8502b9d0c3_c180f5773c" tabindex="-1" value=""></div>
          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button" title="Sign up to my Shiny newsletter">
        </div>
      </form>
    </div>
  </div>
  <div id="scroll-box-contact">
    Questions/comments?
    <a href="/contact">Contact me!</a>
  </div>
</div>

    </div>
  </div>
</div>


    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">

          
          <li>
            <a href="mailto:nitin.iiitv@gmail.com?subject=Hello from nitinitleen1.github.io" title="Email me">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/nitinitleen1" title="Twitter">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/nitinitleen1" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://www.facebook.com/nitinitleen1" title="Facebook">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          
          <li>
            <a href="https://stackoverflow.com/nitinitleen1" title="StackOverflow">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          

          

          

        </ul>

        <p class="copyright text-muted">
          &copy; Nitin Singh
          &nbsp;&bull;&nbsp;
          2017

          
          &nbsp;&bull;&nbsp;
          <a href="mailto:nitin.iiitv@gmail.com?subject=Hello from nitinitleen1.github.io">nitin.iiitv@gmail.com</a>
          
        </p>
        <p class="theme-by text-muted">
          Theme by
          <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
        </p>
      </div>
    </div>
  </div>
</footer>

    
    


  
	<script src="/js/jquery-1.11.2.min.js"></script>
  
	<script src="/js/bootstrap.min.js"></script>
  
	<script src="/js/js.cookie.js"></script>
  
	<script src="/js/main.js"></script>
  







	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-59820529-1', 'auto');
		ga('send', 'pageview');
	</script>
	<!-- End Google Analytics -->



     
      <!-- AddThis plugin (floating social media sharing buttons on the left of each post) -->
      <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-57d65a4d97789dd1"></script>
    
    
  </body>
</html>
